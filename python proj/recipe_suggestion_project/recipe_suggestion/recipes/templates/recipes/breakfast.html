/*{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Breakfast | Recipe Finder</title>
  <link rel="stylesheet" href="{% static 'styles.css' %}" />

  <style>
    .recipe-card {
      opacity: 1;
      transition: opacity 0.4s ease-in-out;
    }
    header {
      background-color: #00ebb4;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    .recipe-card.hide {
      opacity: 0;
      pointer-events: none;
      height: 0;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    .search-section {
      text-align: center;
      margin: 1rem auto;
    }

    select {
      padding: 8px 12px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .recipe-card {
      padding: 15px;
      border: 1px solid #0a1376;
      margin: 15px 0;
      border-radius: 8px;
      box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
    }

    .recipe-card h3 {
      margin-top: 0;
    }

    .recipe-card ul {
      list-style-type: disc;
      padding-left: 20px;
    }

    .recipe-card ol {
      list-style-type: decimal;
      padding-left: 20px;
    }
  </style>
</head>
<body>

  <header>
    <h1>üç≥ Breakfast Recipes</h1>
    <p>Start your day with delicious energy-boosting meals!</p>
    <a href="{% url 'home' %}" style="color: white; text-decoration: underline;">‚Üê Back to Home</a>
  </header>

  <section class="search-section">
    <label for="breakfastFilter"><strong>Filter by Type:</strong></label>
    <select id="breakfastFilter" onchange="filterBreakfast()">
      <option value="all">All</option>
      <option value="quick">Quick</option>
      <option value="vegan">Vegan</option>
      <option value="glutenfree">Gluten-Free</option>
      <option value="hearty">Hearty</option>
    </select>
  </section>
  <div id="offline-recipes">
  <section class="recipes-grid" id="breakfastResults">
    <!-- Recipe 1 -->
    <div class="recipe-card quick hearty">
      <h3>üç≥ Veggie Omelette</h3>
      <p><strong>Type:</strong> Quick, Hearty</p>
      <p><strong>Ingredients:</strong></p>
      <ul>
        <li>3 eggs</li>
        <li>1/4 cup chopped onions</li>
        <li>1/4 cup chopped bell peppers</li>
        <li>1/4 cup chopped tomatoes</li>
        <li>Salt and pepper to taste</li>
        <li>1 tablespoon oil</li>
      </ul>
      <p><strong>Instructions:</strong></p>
      <ol>
        <li>Whisk eggs with salt and pepper in a bowl.</li>
        <li>Heat oil in a pan and saut√© veggies for 2‚Äì3 minutes.</li>
        <li>Pour in the eggs and cook until set.</li>
        <li>Fold and serve hot with toast.</li>
      </ol>
      <button onclick="shareRecipe()">Share Recipe</button>

  <!-- Share Options (Hidden initially) -->
  <div id="share-options" style="display:none;">
    <button onclick="window.open('https://wa.me/?text=Check out this recipe: üáÆüáπ Spaghetti Carbonara - Spaghetti, Eggs, Parmesan Cheese, Bacon, Black Pepper. Steps: Boil spaghetti, Fry bacon, Mix eggs and parmesan. Enjoy!', '_blank')">Share on WhatsApp</button>
    <button onclick="window.open('mailto:?subject=Check out this recipe: üáÆüáπ Spaghetti Carbonara&body=Here is a delicious recipe: Spaghetti, Eggs, Parmesan Cheese, Bacon, Black Pepper. Steps: Boil spaghetti, Fry bacon, Mix eggs and parmesan. Enjoy!', '_blank')">Share via Email</button>
  </div>
    </div>

    <!-- Recipe 2 -->
    <div class="recipe-card vegan glutenfree">
      <h3>ü•£ Chia Pudding</h3>
      <p><strong>Type:</strong> Vegan, Gluten-Free</p>
      <p><strong>Ingredients:</strong></p>
      <ul>
        <li>1/4 cup chia seeds</li>
        <li>1 cup almond milk</li>
        <li>1 tablespoon maple syrup</li>
        <li>1/2 teaspoon vanilla extract</li>
        <li>Fresh fruits for topping</li>
      </ul>
      <p><strong>Instructions:</strong></p>
      <ol>
        <li>Mix chia seeds, almond milk, maple syrup, and vanilla in a jar.</li>
        <li>Stir well and refrigerate overnight or for at least 4 hours.</li>
        <li>Top with fruits before serving.</li>
      </ol>
      <button onclick="shareRecipe()">Share Recipe</button>

  <!-- Share Options (Hidden initially) -->
  <div id="share-options" style="display:none;">
    <button onclick="window.open('https://wa.me/?text=Check out this recipe: üáÆüáπ Spaghetti Carbonara - Spaghetti, Eggs, Parmesan Cheese, Bacon, Black Pepper. Steps: Boil spaghetti, Fry bacon, Mix eggs and parmesan. Enjoy!', '_blank')">Share on WhatsApp</button>
    <button onclick="window.open('mailto:?subject=Check out this recipe: üáÆüáπ Spaghetti Carbonara&body=Here is a delicious recipe: Spaghetti, Eggs, Parmesan Cheese, Bacon, Black Pepper. Steps: Boil spaghetti, Fry bacon, Mix eggs and parmesan. Enjoy!', '_blank')">Share via Email</button>
  </div>
  
    </div>

    <!-- Recipe 3 -->
    <div class="recipe-card quick hearty">
      <h3>ü•ì Breakfast Burrito</h3>
      <p><strong>Type:</strong> Quick, Hearty</p>
      <p><strong>Ingredients:</strong></p>
      <ul>
        <li>2 large eggs</li>
        <li>1 tortilla</li>
        <li>1/4 cup cheese</li>
        <li>1/4 cup black beans</li>
        <li>1/4 cup salsa</li>
        <li>1/4 avocado (sliced)</li>
      </ul>
      <p><strong>Instructions:</strong></p>
      <ol>
        <li>Scramble the eggs in a pan.</li>
        <li>Warm the tortilla and fill with eggs, cheese, beans, salsa, and avocado.</li>
        <li>Roll the burrito and serve warm.</li>
      </ol>
    </div>

    <!-- Recipe 4 -->
    <div class="recipe-card vegan glutenfree">
      <h3>üçå Peanut Butter Banana Toast</h3>
      <p><strong>Type:</strong> Vegan, Gluten-Free</p>
      <p><strong>Ingredients:</strong></p>
      <ul>
        <li>1 slice gluten-free bread</li>
        <li>2 tablespoons peanut butter</li>
        <li>1 banana, sliced</li>
        <li>Cinnamon for sprinkling</li>
      </ul>
      <p><strong>Instructions:</strong></p>
      <ol>
        <li>Toast the bread slice.</li>
        <li>Spread peanut butter and top with banana slices.</li>
        <li>Sprinkle cinnamon and serve immediately.</li>
      </ol>
    </div>

    <!-- Recipe 5 -->
    <div class="recipe-card quick vegan">
      <h3>ü•≠ Smoothie Bowl</h3>
      <p><strong>Type:</strong> Quick, Vegan</p>
      <p><strong>Ingredients:</strong></p>
      <ul>
        <li>1 frozen banana</li>
        <li>1/2 cup frozen mango</li>
        <li>1/4 cup almond milk</li>
        <li>Granola and seeds for topping</li>
      </ul>
      <p><strong>Instructions:</strong></p>
      <ol>
        <li>Blend banana, mango, and almond milk until thick and smooth.</li>
        <li>Pour into a bowl and top with granola and seeds.</li>
        <li>Serve chilled.</li>
      </ol>
    </div>
  </section>
  
  </div>
  
  <!-- Online Recipes -->
  <div id="online-recipes" style="display: none;">
    <h2>Online Recipes</h2>
    <div id="api-recipes"></div>
  </div>
  
  <script>
     function shareRecipe() {
    // Get the current recipe URL and recipe name (you can adjust this part as necessary)
    const recipeName = "Spaghetti Carbonara"; // Recipe name hardcoded here, but can be dynamic if necessary
    const ingredients = "Spaghetti, Eggs, Parmesan Cheese, Bacon, Black Pepper";
    const steps = "Boil spaghetti, Fry bacon, Mix eggs and parmesan. Enjoy!";
    
    // Create the share message
    const message = `Check out this recipe: üáÆüáπ ${recipeName}\nIngredients: ${ingredients}\nSteps: ${steps}`;
    
    // WhatsApp Share URL
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
    
    // Email Share URL
    const emailUrl = `mailto:?subject=Check out this recipe: ${encodeURIComponent(recipeName)}&body=${encodeURIComponent(message)}`;
    
    // Show the share options
    document.getElementById('share-options').style.display = 'block'; // Display the buttons
  }
    function applyModeFromStorage() {
  const mode = localStorage.getItem("recipe_mode");
  const offlineContainer = document.getElementById("offline-recipes");
  const onlineContainer = document.getElementById("online-recipes");

  if (mode === "online") {
    offlineContainer.style.display = "none";
    onlineContainer.style.display = "block";

    fetch("https://www.themealdb.com/api/json/v1/1/search.php?f=a")
      .then(response => response.json())
      .then(data => {
        const apiRecipes = document.getElementById("api-recipes");
        if (!apiRecipes) return;
        apiRecipes.innerHTML = "";

        data.meals.forEach(meal => {
          const div = document.createElement("div");
          div.classList.add("recipe-card");
          const categories = meal.strTags ? meal.strTags.split(',') : []; // or use a different logic based on the API
          categories.forEach(category => div.classList.add(category.trim()));
          let ingredients = "";
          for (let i = 1; i <= 20; i++) {
            const ingredient = meal["strIngredient" + i];
            const measure = meal["strMeasure" + i];
            if (ingredient && ingredient.trim() !== "") {
              ingredients += `<li>${ingredient} - ${measure}</li>`;
            }
          }
          

          div.innerHTML = `
            <h3>${meal.strMeal}</h3>
            <img src="${meal.strMealThumb}" alt="${meal.strMeal}" width="250">
            <h4>Ingredients:</h4>
            <ul>${ingredients}</ul>
            <h4>Instructions:</h4>
            <p>${meal.strInstructions}</p>
            ${meal.strYoutube ? `<a href="${meal.strYoutube}" target="_blank">Watch Video</a>` : ""}
          `;

          apiRecipes.appendChild(div);
        });
      });
  } else {
    onlineContainer.style.display = "none";
    offlineContainer.style.display = "block";
  }
}
function setMode(mode) {
    localStorage.setItem("recipe_mode", mode);
    alert("Mode set to " + mode.toUpperCase());
    applyModeFromStorage();
  }
function filterBreakfast() {
  const selected = document.getElementById("breakfastFilter").value;
  const recipes = document.querySelectorAll(".recipe-card");
  const apiRecipes = document.querySelectorAll("#api-recipes .recipe-card");

  // For Offline Mode
  recipes.forEach(recipe => {
    const matches = recipe.classList.contains(selected) || selected === "all";
    recipe.classList.toggle("hide", !matches);
  });

  // For Online Mode (API Recipes)
  apiRecipes.forEach(recipe => {
    const matches = recipe.classList.contains(selected) || selected === "all";
    recipe.classList.toggle("hide", !matches);
  });
}

  </script>
</body>
</html>*/
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Breakfast Recipes</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .recipe-card {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      max-width: 400px;
    }
    .recipe-card img {
      max-width: 100%;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>Breakfast Recipes</h1>

  <!-- OFFLINE Recipes (hardcoded) -->
  <div id="offline-recipes">
    <div class="recipe-card">
      <h3>Pancakes</h3>
      <p><strong>Ingredients:</strong> Flour, Eggs, Milk, Sugar, Baking Powder</p>
      <p><strong>Instructions:</strong> Mix ingredients. Cook on a skillet until golden brown. Serve with syrup.</p>
    </div>
    <div class="recipe-card">
      <h3>Omelette</h3>
      <p><strong>Ingredients:</strong> Eggs, Onions, Tomatoes, Salt, Pepper</p>
      <p><strong>Instructions:</strong> Beat eggs. Cook with veggies in a pan. Fold and serve hot.</p>
    </div>
  </div>

  <!-- ONLINE Recipes (API) -->
  <div id="online-recipes" style="display: none;">
    <h2>Online Breakfast Recipes</h2>
    <div id="api-recipes"></div>
  </div>

  <!-- Mode Switching Script -->
  <script>
    function applyModeFromStorage() {
      const mode = localStorage.getItem("recipe_mode");
      const offlineContainer = document.getElementById("offline-recipes");
      const onlineContainer = document.getElementById("online-recipes");

      if (mode === "online") {
        offlineContainer.style.display = "none";
        onlineContainer.style.display = "block";

        fetch("https://www.themealdb.com/api/json/v1/1/filter.php?c=Breakfast")
          .then(response => response.json())
          .then(data => {
            const apiRecipes = document.getElementById("api-recipes");
            apiRecipes.innerHTML = "";

            if (!data.meals) {
              apiRecipes.innerHTML = "<p>No breakfast recipes found online.</p>";
              return;
            }

            data.meals.forEach(meal => {
              const div = document.createElement("div");
              div.classList.add("recipe-card");
              div.innerHTML = `
                <h3>${meal.strMeal}</h3>
                <img src="${meal.strMealThumb}" alt="${meal.strMeal}">
              `;
              apiRecipes.appendChild(div);
            });
          })
          .catch(err => {
            document.getElementById("api-recipes").innerHTML = "<p>Error loading recipes.</p>";
          });
      } else {
        onlineContainer.style.display = "none";
        offlineContainer.style.display = "block";
      }
    }

    window.addEventListener("load", applyModeFromStorage);
  </script>
</body>
</html>
